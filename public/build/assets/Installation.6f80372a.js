var _e=Object.defineProperty;var se=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var de=(n,q,l)=>q in n?_e(n,q,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[q]=l,ue=(n,q)=>{for(var l in q||(q={}))be.call(q,l)&&de(n,l,q[l]);if(se)for(var l of se(q))$e.call(q,l)&&de(n,l,q[l]);return n};import{C as R,i as me,_ as ee,u as ae,v as H,d as ce,c as te,m as ge,L as we,D as ye}from"./main.c4ed6aa9.js";import{i as M,k as z,r as _,o as B,s as S,w as d,t as V,c as k,x as U,v as P,A as G,F as ne,H as ie,y as e,b as t,z as O,g as E,M as J,Z as oe,al as re,j as T,am as Q,m as I,n as D,aV as X,q as L,B as W,an as le,a2 as K,a0 as Y,p as he,aU as Ie,aQ as qe,a4 as fe,C as pe}from"./vendor.e9042f2c.js";const Be={class:"w-full md:w-2/3"},Ce={class:"mb-6"},Ve={key:0,class:"grid grid-flow-row grid-cols-3 p-3 border border-gray-200 lg:gap-24 sm:gap-4"},De={class:"col-span-2 text-sm"},Fe={class:"text-right"},Se={key:0,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-green-500"},Me={key:1,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-red-500"},ze={key:1},ke={class:"col-span-2 text-sm"},Ue={class:"text-right"},Pe={key:0,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-green-500"},Ne={key:1,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-red-500"},Ge={emits:["next"],setup(n,{emit:q}){const l=M(""),s=M(""),r=M(!1);M(!0);const y=R(),u=z(()=>{if(l.value){let m=!0;for(const o in l.value)return l.value[o]||(m=!1),l.value&&s.value.supported&&m}return!1});async function f(){var o,w,a,c;r.value=!0;const m=await y.fetchInstallationRequirements();m.data&&(l.value=(a=(w=(o=m==null?void 0:m.data)==null?void 0:o.requirements)==null?void 0:w.requirements)==null?void 0:a.php,s.value=(c=m==null?void 0:m.data)==null?void 0:c.phpSupportInfo)}function i(){r.value=!0,q("next"),r.value=!1}return(m,o)=>{const w=_("BaseIcon"),a=_("BaseButton"),c=_("BaseWizardStep");return B(),S(c,{title:m.$t("wizard.req.system_req"),description:m.$t("wizard.req.system_req_desc")},{default:d(()=>[V("div",Be,[V("div",Ce,[s.value?(B(),k("div",Ve,[V("div",De,U(m.$t("wizard.req.php_req_version",{version:s.value.minimum})),1),V("div",Fe,[P(U(s.value.current)+" ",1),s.value.supported?(B(),k("span",Se)):(B(),k("span",Me))])])):G("",!0),l.value?(B(),k("div",ze,[(B(!0),k(ne,null,ie(l.value,(b,C)=>(B(),k("div",{key:C,class:"grid grid-flow-row grid-cols-3 p-3 border border-gray-200 lg:gap-24 sm:gap-4"},[V("div",ke,U(C),1),V("div",Ue,[b?(B(),k("span",Pe)):(B(),k("span",Ne))])]))),128))])):G("",!0)]),e(u)?(B(),S(a,{key:0,onClick:i},{left:d(b=>[t(w,{name:"ArrowRightIcon",class:O(b.class)},null,8,["class"])]),default:d(()=>[P(U(m.$t("wizard.continue"))+" ",1)]),_:1})):G("",!0),l.value?G("",!0):(B(),S(a,{key:1,loading:r.value,disabled:r.value,onClick:f},{default:d(()=>[P(U(m.$t("wizard.req.check_req")),1)]),_:1},8,["loading","disabled"]))])]),_:1},8,["title","description"])}}},Ee={key:1,class:"relative"},Oe={class:"grid grid-flow-row grid-cols-3 lg:gap-24 sm:gap-4"},xe={class:"col-span-2 p-3"},Le={class:"p-3 text-right"},We={key:0,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-green-500"},Te={key:1,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-red-500"},Re={emits:["next"],setup(n,{emit:q}){let l=M(!1),s=M(!1),r=M([]);const{tm:y,t:u}=E(),f=R(),i=me();J(()=>{m()});async function m(){l.value=!0;const w=await f.fetchInstallationPermissions();r.value=w.data.permissions.permissions,w.data&&w.data.permissions.errors&&setTimeout(()=>{i.openDialog({title:y("wizard.permissions.permission_confirm_title"),message:u("wizard.permissions.permission_confirm_desc"),yesLabel:"OK",noLabel:"Cancel",variant:"danger",hideNoButton:!1,size:"lg"}).then(a=>{a.data&&(l.value=!1)})},500),l.value=!1}function o(){s.value=!0,q("next"),s.value=!1}return(w,a)=>{const c=_("BaseContentPlaceholdersText"),b=_("BaseContentPlaceholdersBox"),C=_("BaseContentPlaceholders"),g=_("BaseIcon"),v=_("BaseButton"),p=_("BaseWizardStep");return B(),S(p,{title:w.$t("wizard.permissions.permissions"),description:w.$t("wizard.permissions.permission_desc")},{default:d(()=>[e(l)?(B(),S(C,{key:0},{default:d(()=>[(B(),k(ne,null,ie(3,($,h)=>V("div",{key:h,class:"grid grid-flow-row grid-cols-3 lg:gap-24 sm:gap-4 border border-gray-200"},[t(c,{lines:1,class:"col-span-4 p-3"})])),64)),t(b,{rounded:!0,class:"mt-10",style:{width:"96px",height:"42px"}})]),_:1})):(B(),k("div",Ee,[(B(!0),k(ne,null,ie(e(r),($,h)=>(B(),k("div",{key:h,class:"border border-gray-200"},[V("div",Oe,[V("div",xe,U($.folder),1),V("div",Le,[$.isSet?(B(),k("span",We)):(B(),k("span",Te)),V("span",null,U($.permission),1)])])]))),128)),oe(t(v,{class:"mt-10",loading:e(s),disabled:e(s),onClick:o},{left:d($=>[t(g,{name:"ArrowRightIcon",class:O($.class)},null,8,["class"])]),default:d(()=>[P(" "+U(w.$t("wizard.continue")),1)]),_:1},8,["loading","disabled"]),[[re,!e(l)]])]))]),_:1},8,["title","description"])}}},je=["onSubmit"],Ae={class:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:mb-6 md:mb-6"},Ye={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){const l=n,s=T(["sqlite","mysql","pgsql"]),{t:r}=E(),y=Q("utils"),u=R();J(()=>{for(const c in f.value)l.configData.hasOwnProperty(c)&&(f.value[c]=l.configData[c])});const f=z(()=>u.currentDataBaseData),i=c=>y.checkValidUrl(c),m={database_connection:{required:I.withMessage(r("validation.required"),D)},database_hostname:{required:I.withMessage(r("validation.required"),D)},database_port:{required:I.withMessage(r("validation.required"),D),numeric:X},database_name:{required:I.withMessage(r("validation.required"),D)},database_username:{required:I.withMessage(r("validation.required"),D)},app_url:{required:I.withMessage(r("validation.required"),D),isUrl:I.withMessage(r("validation.invalid_url"),i)}},o=L(m,f.value);function w(){if(o.value.$touch(),o.value.$invalid)return!0;q("submit-data",f.value)}function a(){o.value.database_connection.$touch(),q("on-change-driver",f.value.database_connection)}return(c,b)=>{const C=_("BaseInput"),g=_("BaseInputGroup"),v=_("BaseMultiselect"),p=_("BaseIcon"),$=_("BaseButton");return B(),k("form",{action:"",onSubmit:W(w,["prevent"])},[V("div",Ae,[t(g,{label:c.$t("wizard.database.app_url"),error:e(o).app_url.$error&&e(o).app_url.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).app_url,"onUpdate:modelValue":b[0]||(b[0]=h=>e(f).app_url=h),invalid:e(o).app_url.$error,type:"text"},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t(g,{label:c.$t("wizard.database.connection"),error:e(o).database_connection.$error&&e(o).database_connection.$errors[0].$message,required:""},{default:d(()=>[t(v,{modelValue:e(f).database_connection,"onUpdate:modelValue":[b[1]||(b[1]=h=>e(f).database_connection=h),a],invalid:e(o).database_connection.$error,options:e(s),"can-deselect":!1,"can-clear":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),t(g,{label:c.$t("wizard.database.port"),error:e(o).database_port.$error&&e(o).database_port.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_port,"onUpdate:modelValue":b[2]||(b[2]=h=>e(f).database_port=h),invalid:e(o).database_port.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t(g,{label:c.$t("wizard.database.db_name"),error:e(o).database_name.$error&&e(o).database_name.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_name,"onUpdate:modelValue":b[3]||(b[3]=h=>e(f).database_name=h),invalid:e(o).database_name.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t(g,{label:c.$t("wizard.database.username"),error:e(o).database_username.$error&&e(o).database_username.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_username,"onUpdate:modelValue":b[4]||(b[4]=h=>e(f).database_username=h),invalid:e(o).database_username.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t(g,{label:c.$t("wizard.database.password")},{default:d(()=>[t(C,{modelValue:e(f).database_password,"onUpdate:modelValue":b[5]||(b[5]=h=>e(f).database_password=h),type:"password"},null,8,["modelValue"])]),_:1},8,["label"]),t(g,{label:c.$t("wizard.database.host"),error:e(o).database_hostname.$error&&e(o).database_hostname.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_hostname,"onUpdate:modelValue":b[6]||(b[6]=h=>e(f).database_hostname=h),invalid:e(o).database_hostname.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),t($,{type:"submit",class:"mt-4",loading:n.isSaving,disabled:n.isSaving},{left:d(h=>[n.isSaving?G("",!0):(B(),S(p,{key:0,name:"SaveIcon",class:O(h.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(c.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled"])],40,je)}}},Ze=["onSubmit"],He={class:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:mb-6 md:mb-6"},Je={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){const l=n,s=T(["sqlite","mysql","pgsql"]),{t:r}=E(),y=Q("utils"),u=R(),f=z(()=>u.currentDataBaseData);J(()=>{for(const c in f.value)l.configData.hasOwnProperty(c)&&(f.value[c]=l.configData[c])});const i=c=>y.checkValidUrl(c),m={database_connection:{required:I.withMessage(r("validation.required"),D)},database_hostname:{required:I.withMessage(r("validation.required"),D)},database_port:{required:I.withMessage(r("validation.required"),D),numeric:X},database_name:{required:I.withMessage(r("validation.required"),D)},database_username:{required:I.withMessage(r("validation.required"),D)},app_url:{required:I.withMessage(r("validation.required"),D),isUrl:I.withMessage(r("validation.invalid_url"),i)}},o=L(m,f.value);function w(){if(o.value.$touch(),o.value.$invalid)return!0;q("submit-data",f.value)}function a(){o.value.database_connection.$touch(),q("on-change-driver",f.value.database_connection)}return(c,b)=>{const C=_("BaseInput"),g=_("BaseInputGroup"),v=_("BaseMultiselect"),p=_("BaseIcon"),$=_("BaseButton");return B(),k("form",{action:"",onSubmit:W(w,["prevent"])},[V("div",He,[t(g,{label:c.$t("wizard.database.app_url"),"content-loading":n.isFetchingInitialData,error:e(o).app_url.$error&&e(o).app_url.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).app_url,"onUpdate:modelValue":b[0]||(b[0]=h=>e(f).app_url=h),"content-loading":n.isFetchingInitialData,invalid:e(o).app_url.$error,type:"text"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(g,{label:c.$t("wizard.database.connection"),"content-loading":n.isFetchingInitialData,error:e(o).database_connection.$error&&e(o).database_connection.$errors[0].$message,required:""},{default:d(()=>[t(v,{modelValue:e(f).database_connection,"onUpdate:modelValue":[b[1]||(b[1]=h=>e(f).database_connection=h),a],"content-loading":n.isFetchingInitialData,invalid:e(o).database_connection.$error,options:e(s),"can-deselect":!1,"can-clear":!1},null,8,["modelValue","content-loading","invalid","options"])]),_:1},8,["label","content-loading","error"]),t(g,{label:c.$t("wizard.database.port"),"content-loading":n.isFetchingInitialData,error:e(o).database_port.$error&&e(o).database_port.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_port,"onUpdate:modelValue":b[2]||(b[2]=h=>e(f).database_port=h),"content-loading":n.isFetchingInitialData,invalid:e(o).database_port.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(g,{label:c.$t("wizard.database.db_name"),"content-loading":n.isFetchingInitialData,error:e(o).database_name.$error&&e(o).database_name.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_name,"onUpdate:modelValue":b[3]||(b[3]=h=>e(f).database_name=h),"content-loading":n.isFetchingInitialData,invalid:e(o).database_name.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(g,{label:c.$t("wizard.database.username"),"content-loading":n.isFetchingInitialData,error:e(o).database_username.$error&&e(o).database_username.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_username,"onUpdate:modelValue":b[4]||(b[4]=h=>e(f).database_username=h),"content-loading":n.isFetchingInitialData,invalid:e(o).database_username.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(g,{"content-loading":n.isFetchingInitialData,label:c.$t("wizard.database.password")},{default:d(()=>[t(C,{modelValue:e(f).database_password,"onUpdate:modelValue":b[5]||(b[5]=h=>e(f).database_password=h),"content-loading":n.isFetchingInitialData,type:"password"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),t(g,{label:c.$t("wizard.database.host"),"content-loading":n.isFetchingInitialData,error:e(o).database_hostname.$error&&e(o).database_hostname.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_hostname,"onUpdate:modelValue":b[6]||(b[6]=h=>e(f).database_hostname=h),"content-loading":n.isFetchingInitialData,invalid:e(o).database_hostname.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),oe(t($,{"content-loading":n.isFetchingInitialData,type:"submit",class:"mt-4",loading:n.isSaving,disabled:n.isSaving},{left:d(h=>[n.isSaving?G("",!0):(B(),S(p,{key:0,name:"SaveIcon",class:O(h.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(c.$t("wizard.save_cont")),1)]),_:1},8,["content-loading","loading","disabled"]),[[re,!n.isFetchingInitialData]])],40,Ze)}}},Ke=["onSubmit"],Qe={class:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:mb-6 md:mb-6"},Xe={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){const l=n,s=T(["sqlite","mysql","pgsql"]),{t:r}=E(),y=Q("utils"),u=R(),f=z(()=>u.currentDataBaseData);J(()=>{for(const c in f.value)l.configData.hasOwnProperty(c)&&(f.value[c]=l.configData[c])});const i=c=>y.checkValidUrl(c),m={database_connection:{required:I.withMessage(r("validation.required"),D)},database_name:{required:I.withMessage(r("validation.required"),D)},app_url:{required:I.withMessage(r("validation.required"),D),isUrl:I.withMessage(r("validation.invalid_url"),i)}},o=L(m,f.value);function w(){if(o.value.$touch(),o.value.$invalid)return!0;q("submit-data",f.value)}function a(){o.value.database_connection.$touch(),q("on-change-driver",f.value.database_connection)}return(c,b)=>{const C=_("BaseInput"),g=_("BaseInputGroup"),v=_("BaseMultiselect"),p=_("BaseIcon"),$=_("BaseButton");return B(),k("form",{action:"",onSubmit:W(w,["prevent"])},[V("div",Qe,[t(g,{label:c.$t("wizard.database.app_url"),"content-loading":n.isFetchingInitialData,error:e(o).app_url.$error&&e(o).app_url.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(f).app_url,"onUpdate:modelValue":b[0]||(b[0]=h=>e(f).app_url=h),"content-loading":n.isFetchingInitialData,invalid:e(o).app_url.$error,type:"text"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(g,{label:c.$t("wizard.database.connection"),"content-loading":n.isFetchingInitialData,error:e(o).database_connection.$error&&e(o).database_connection.$errors[0].$message,required:""},{default:d(()=>[t(v,{modelValue:e(f).database_connection,"onUpdate:modelValue":[b[1]||(b[1]=h=>e(f).database_connection=h),a],"content-loading":n.isFetchingInitialData,invalid:e(o).database_connection.$error,options:e(s),"can-deselect":!1,"can-clear":!1},null,8,["modelValue","content-loading","invalid","options"])]),_:1},8,["label","content-loading","error"]),t(g,{label:c.$t("wizard.database.db_path"),error:e(o).database_name.$error&&e(o).database_name.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:d(()=>[t(C,{modelValue:e(f).database_name,"onUpdate:modelValue":b[2]||(b[2]=h=>e(f).database_name=h),"content-loading":n.isFetchingInitialData,invalid:e(o).database_name.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"])]),oe(t($,{"content-loading":n.isFetchingInitialData,type:"submit",class:"mt-4",loading:n.isSaving,disabled:n.isSaving},{left:d(h=>[n.isSaving?G("",!0):(B(),S(p,{key:0,name:"SaveIcon",class:O(h.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(c.$t("wizard.save_cont")),1)]),_:1},8,["content-loading","loading","disabled"]),[[re,!n.isFetchingInitialData]])],40,Ke)}}},ea={components:{Mysql:Ye,Pgsql:Je,Sqlite:Xe},emits:["next"],setup(n,{emit:q}){const l=M("mysql"),s=M(!1),{t:r}=E(),y=ae(),u=R(),f=z(()=>u.currentDataBaseData);async function i(o){let w={connection:o};const a=await u.fetchInstallationDatabase(w);a.data.success&&(f.value.database_connection=a.data.config.database_connection),o==="sqlite"?f.value.database_name=a.data.config.database_name:f.value.database_name=null}async function m(o){s.value=!0;try{let w=await u.addInstallationDatabase(o);if(s.value=!1,w.data.success){await u.addInstallationFinish(),q("next",3),y.showNotification({type:"success",message:r("wizard.success."+w.data.success)});return}else if(w.data.error){if(w.data.requirement){y.showNotification({type:"error",message:r("wizard.errors."+w.data.error,{version:w.data.requirement.minimum,name:o.value.database_connection})});return}y.showNotification({type:"error",message:r("wizard.errors."+w.data.error)})}else w.data.errors?y.showNotification({type:"error",message:w.data.errors[0]}):w.data.error_message&&y.showNotification({type:"error",message:w.data.error_message})}catch{y.showNotification({type:"error",message:r("validation.something_went_wrong")}),s.value=!1}finally{s.value=!1}}return{databaseData:f,database_connection:l,isSaving:s,getDatabaseConfig:i,next:m}}};function aa(n,q,l,s,r,y){const u=_("BaseWizardStep");return B(),S(u,{title:n.$t("wizard.database.database"),description:n.$t("wizard.database.desc"),"step-container":"w-full p-8 mb-8 bg-white border border-gray-200 border-solid rounded md:w-full"},{default:d(()=>[(B(),S(le(s.databaseData.database_connection),{"config-data":s.databaseData,"is-saving":s.isSaving,onOnChangeDriver:s.getDatabaseConfig,onSubmitData:s.next},null,8,["config-data","is-saving","onOnChangeDriver","onSubmitData"]))]),_:1},8,["title","description"])}var ta=ee(ea,[["render",aa]]);const na={class:"w-full md:w-2/3"},ia=V("p",{class:"mt-4 mb-0 text-sm text-gray-600"},"Notes:",-1),oa=V("ul",{class:"w-full text-gray-600 list-disc list-inside"},[V("li",{class:"text-sm leading-8"},[P(" App domain should not contain "),V("b",{class:"inline-block px-1 bg-gray-100 rounded-sm"},"https://"),P(" or "),V("b",{class:"inline-block px-1 bg-gray-100 rounded-sm"},"http"),P(" in front of the domain. ")]),V("li",{class:"text-sm leading-8"},[P(" If you're accessing the website on a different port, please mention the port. For example: "),V("b",{class:"inline-block px-1 bg-gray-100"},"localhost:8080")])],-1),ra={emits:["next"],setup(n,{emit:q}){const l=T({app_domain:window.location.origin.replace(/(^\w+:|^)\/\//,"")}),s=M(!1),{t:r}=E(),y=Q("utils"),u=a=>y.checkValidDomainUrl(a),f=R(),i=ae(),m={app_domain:{required:I.withMessage(r("validation.required"),D),isUrl:I.withMessage(r("validation.invalid_domain_url"),u)}},o=L(m,z(()=>l));async function w(){if(o.value.$touch(),o.value.$invalid)return!0;s.value=!0;try{await f.setInstallationDomain(l),await f.installationLogin(),(await f.checkAutheticated()).data&&q("next",4),s.value=!1}catch{i.showNotification({type:"error",message:r("wizard.verify_domain.failed")}),s.value=!1}}return(a,c)=>{const b=_("BaseInput"),C=_("BaseInputGroup"),g=_("BaseButton"),v=_("BaseWizardStep");return B(),S(v,{title:a.$t("wizard.verify_domain.title"),description:a.$t("wizard.verify_domain.desc")},{default:d(()=>[V("div",na,[t(C,{label:a.$t("wizard.verify_domain.app_domain"),error:e(o).app_domain.$error&&e(o).app_domain.$errors[0].$message,required:""},{default:d(()=>[t(b,{modelValue:e(l).app_domain,"onUpdate:modelValue":c[0]||(c[0]=p=>e(l).app_domain=p),invalid:e(o).app_domain.$error,type:"text",onInput:c[1]||(c[1]=p=>e(o).app_domain.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),ia,oa,t(g,{loading:s.value,disabled:s.value,class:"mt-8",onClick:w},{default:d(()=>[P(U(a.$t("wizard.verify_domain.verify_now")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["title","description"])}}},la=["onSubmit"],sa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},da={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ua={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ma={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},ca={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){let l=M(!1);const s=T(["tls","ssl","starttls"]),{t:r}=E(),y=H(),u=z(()=>y.smtpConfig),f=z(()=>l.value?"text":"password");u.value.mail_driver="smtp";const i=z(()=>({smtpConfig:{mail_driver:{required:I.withMessage(r("validation.required"),D)},mail_host:{required:I.withMessage(r("validation.required"),D)},mail_port:{required:I.withMessage(r("validation.required"),D),numeric:I.withMessage(r("validation.numbers_only"),X)},mail_encryption:{required:I.withMessage(r("validation.required"),D)},from_mail:{required:I.withMessage(r("validation.required"),D),email:I.withMessage(r("validation.email_incorrect"),K)},from_name:{required:I.withMessage(r("validation.required"),D)}}})),m=L(i,z(()=>y));async function o(){return m.value.$touch(),m.value.$invalid||q("submit-data",y.smtpConfig),!1}function w(){m.value.smtpConfig.mail_driver.$touch(),q("on-change-driver",y.smtpConfig.mail_driver)}return(a,c)=>{const b=_("BaseMultiselect"),C=_("BaseInputGroup"),g=_("BaseInput"),v=_("BaseIcon"),p=_("BaseButton");return B(),k("form",{onSubmit:W(o,["prevent"])},[V("div",sa,[t(C,{label:a.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(m).smtpConfig.mail_driver.$error&&e(m).smtpConfig.mail_driver.$errors[0].$message,required:""},{default:d(()=>[t(b,{modelValue:e(u).mail_driver,"onUpdate:modelValue":[c[0]||(c[0]=$=>e(u).mail_driver=$),w],options:e(y).mail_drivers,"can-deselect":!1,"content-loading":n.isFetchingInitialData,invalid:e(m).smtpConfig.mail_driver.$error},null,8,["modelValue","options","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(C,{label:a.$t("wizard.mail.host"),"content-loading":n.isFetchingInitialData,error:e(m).smtpConfig.mail_host.$error&&e(m).smtpConfig.mail_host.$errors[0].$message,required:""},{default:d(()=>[t(g,{modelValue:e(u).mail_host,"onUpdate:modelValue":c[1]||(c[1]=$=>e(u).mail_host=$),modelModifiers:{trim:!0},invalid:e(m).smtpConfig.mail_host.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_host",onInput:c[2]||(c[2]=$=>e(m).smtpConfig.mail_host.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",da,[t(C,{label:a.$t("wizard.mail.username"),"content-loading":n.isFetchingInitialData},{default:d(()=>[t(g,{modelValue:e(u).mail_username,"onUpdate:modelValue":c[3]||(c[3]=$=>e(u).mail_username=$),modelModifiers:{trim:!0},"content-loading":n.isFetchingInitialData,type:"text",name:"db_name"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),t(C,{label:a.$t("wizard.mail.password"),"content-loading":n.isFetchingInitialData},{default:d(()=>[t(g,{modelValue:e(u).mail_password,"onUpdate:modelValue":c[6]||(c[6]=$=>e(u).mail_password=$),modelModifiers:{trim:!0},type:e(f),"content-loading":n.isFetchingInitialData,autocomplete:"off","data-lpignore":"true",name:"password"},{right:d(()=>[e(l)?(B(),S(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:c[4]||(c[4]=$=>Y(l)?l.value=!e(l):l=!e(l))})):(B(),S(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:c[5]||(c[5]=$=>Y(l)?l.value=!e(l):l=!e(l))}))]),_:1},8,["modelValue","type","content-loading"])]),_:1},8,["label","content-loading"])]),V("div",ua,[t(C,{label:a.$t("wizard.mail.port"),error:e(m).smtpConfig.mail_port.$error&&e(m).smtpConfig.mail_port.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:d(()=>[t(g,{modelValue:e(u).mail_port,"onUpdate:modelValue":c[7]||(c[7]=$=>e(u).mail_port=$),modelModifiers:{trim:!0},invalid:e(m).smtpConfig.mail_port.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_port",onInput:c[8]||(c[8]=$=>e(m).smtpConfig.mail_port.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"]),t(C,{label:a.$t("wizard.mail.encryption"),error:e(m).smtpConfig.mail_encryption.$error&&e(m).smtpConfig.mail_encryption.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:d(()=>[t(b,{modelValue:e(u).mail_encryption,"onUpdate:modelValue":c[9]||(c[9]=$=>e(u).mail_encryption=$),modelModifiers:{trim:!0},options:e(s),"can-deselect":!1,invalid:e(m).smtpConfig.mail_encryption.$error,"content-loading":n.isFetchingInitialData,onInput:c[10]||(c[10]=$=>e(m).smtpConfig.mail_encryption.$touch())},null,8,["modelValue","options","invalid","content-loading"])]),_:1},8,["label","error","content-loading"])]),V("div",ma,[t(C,{label:a.$t("wizard.mail.from_mail"),error:e(m).smtpConfig.from_mail.$error&&e(m).smtpConfig.from_mail.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:d(()=>[t(g,{modelValue:e(u).from_mail,"onUpdate:modelValue":c[11]||(c[11]=$=>e(u).from_mail=$),modelModifiers:{trim:!0},invalid:e(m).smtpConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_mail",onInput:c[12]||(c[12]=$=>e(m).smtpConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"]),t(C,{label:a.$t("wizard.mail.from_name"),error:e(m).smtpConfig.from_name.$error&&e(m).smtpConfig.from_name.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:d(()=>[t(g,{modelValue:e(u).from_name,"onUpdate:modelValue":c[13]||(c[13]=$=>e(u).from_name=$),modelModifiers:{trim:!0},invalid:e(m).smtpConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_name",onInput:c[14]||(c[14]=$=>e(m).smtpConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"])]),t(p,{loading:n.isSaving,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:d($=>[n.isSaving?G("",!0):(B(),S(v,{key:0,name:"SaveIcon",class:O($.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(a.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,la)}}},ga=["onSubmit"],fa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 lg:mb-6 md:mb-6"},pa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 lg:mb-6 md:mb-6"},va={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},_a={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){let l=M(!1);const s=H(),{t:r}=E(),y=z(()=>s.mailgunConfig),u=z(()=>l.value?"text":"password");y.value.mail_driver="mailgun";const f=z(()=>({mailgunConfig:{mail_driver:{required:I.withMessage(r("validation.required"),D)},mail_mailgun_domain:{required:I.withMessage(r("validation.required"),D)},mail_mailgun_endpoint:{required:I.withMessage(r("validation.required"),D)},mail_mailgun_secret:{required:I.withMessage(r("validation.required"),D)},from_mail:{required:I.withMessage(r("validation.required"),D),email:K},from_name:{required:I.withMessage(r("validation.required"),D)}}})),i=L(f,z(()=>s));function m(){return i.value.$touch(),i.value.$invalid||q("submit-data",s.mailgunConfig),!1}function o(){i.value.mailgunConfig.mail_driver.$touch(),q("on-change-driver",s.mailgunConfig.mail_driver)}return(w,a)=>{const c=_("BaseMultiselect"),b=_("BaseInputGroup"),C=_("BaseInput"),g=_("BaseIcon"),v=_("BaseButton");return B(),k("form",{onSubmit:W(m,["prevent"])},[V("div",fa,[t(b,{label:w.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_driver.$error&&e(i).mailgunConfig.mail_driver.$errors[0].$message,required:""},{default:d(()=>[t(c,{modelValue:e(y).mail_driver,"onUpdate:modelValue":[a[0]||(a[0]=p=>e(y).mail_driver=p),o],options:e(s).mail_drivers,"can-deselect":!1,invalid:e(i).mailgunConfig.mail_driver.$error,"content-loading":n.isFetchingInitialData},null,8,["modelValue","options","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.mailgun_domain"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_mailgun_domain.$error&&e(i).mailgunConfig.mail_mailgun_domain.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(y).mail_mailgun_domain,"onUpdate:modelValue":a[1]||(a[1]=p=>e(y).mail_mailgun_domain=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.mail_mailgun_domain.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mailgun_domain",onInput:a[2]||(a[2]=p=>e(i).mailgunConfig.mail_mailgun_domain.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",pa,[t(b,{label:w.$t("wizard.mail.mailgun_secret"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_mailgun_secret.$error&&e(i).mailgunConfig.mail_mailgun_secret.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(y).mail_mailgun_secret,"onUpdate:modelValue":a[5]||(a[5]=p=>e(y).mail_mailgun_secret=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.mail_mailgun_secret.$error,type:e(u),"content-loading":n.isFetchingInitialData,name:"mailgun_secret",autocomplete:"off","data-lpignore":"true",onInput:a[6]||(a[6]=p=>e(i).mailgunConfig.mail_mailgun_secret.$touch())},{right:d(()=>[e(l)?(B(),S(g,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[3]||(a[3]=p=>Y(l)?l.value=!e(l):l=!e(l))})):(B(),S(g,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[4]||(a[4]=p=>Y(l)?l.value=!e(l):l=!e(l))}))]),_:1},8,["modelValue","invalid","type","content-loading"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.mailgun_endpoint"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_mailgun_endpoint.$error&&e(i).mailgunConfig.mail_mailgun_endpoint.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(y).mail_mailgun_endpoint,"onUpdate:modelValue":a[7]||(a[7]=p=>e(y).mail_mailgun_endpoint=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.mail_mailgun_endpoint.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mailgun_endpoint",onInput:a[8]||(a[8]=p=>e(i).mailgunConfig.mail_mailgun_endpoint.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",va,[t(b,{label:w.$t("wizard.mail.from_mail"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.from_mail.$error&&e(i).mailgunConfig.from_mail.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(y).from_mail,"onUpdate:modelValue":a[9]||(a[9]=p=>e(y).from_mail=p),modelModifiers:{trim:!0},name:"from_mail",type:"text",invalid:e(i).mailgunConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,onInput:a[10]||(a[10]=p=>e(i).mailgunConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.from_name"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.from_name.$error&&e(i).mailgunConfig.from_name.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(y).from_name,"onUpdate:modelValue":a[11]||(a[11]=p=>e(y).from_name=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_name",onInput:a[12]||(a[12]=p=>e(i).mailgunConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),t(v,{loading:w.loading,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:d(p=>[n.isSaving?G("",!0):(B(),S(g,{key:0,name:"SaveIcon",class:O(p.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(w.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,ga)}}},ba=["onSubmit"],$a={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},wa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ya={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ha={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},Ia={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){const{t:l}=E(),s=T(["tls","ssl","starttls"]);let r=M(!1);const y=H(),u=z(()=>y.sesConfig);u.value.mail_driver="ses";const f=z(()=>({sesConfig:{mail_driver:{required:I.withMessage(l("validation.required"),D)},mail_host:{required:I.withMessage(l("validation.required"),D)},mail_port:{required:I.withMessage(l("validation.required"),D),numeric:X},mail_ses_key:{required:I.withMessage(l("validation.required"),D)},mail_ses_secret:{required:I.withMessage(l("validation.required"),D)},mail_encryption:{required:I.withMessage(l("validation.required"),D)},from_mail:{required:I.withMessage(l("validation.required"),D),email:I.withMessage(l("validation.email_incorrect"),K)},from_name:{required:I.withMessage(l("validation.required"),D)}}})),i=L(f,z(()=>y));async function m(){return i.value.$touch(),i.value.$invalid||q("submit-data",y.sesConfig),!1}function o(){i.value.sesConfig.mail_driver.$touch(),q("on-change-driver",y.sesConfig.mail_driver)}return(w,a)=>{const c=_("BaseMultiselect"),b=_("BaseInputGroup"),C=_("BaseInput"),g=_("BaseIcon"),v=_("BaseButton");return B(),k("form",{onSubmit:W(m,["prevent"])},[V("div",$a,[t(b,{label:w.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_driver.$error&&e(i).sesConfig.mail_driver.$errors[0].$message,required:""},{default:d(()=>[t(c,{modelValue:e(u).mail_driver,"onUpdate:modelValue":[a[0]||(a[0]=p=>e(u).mail_driver=p),o],options:e(y).mail_drivers,"can-deselect":!1,"content-loading":n.isFetchingInitialData,invalid:e(i).sesConfig.mail_driver.$error},null,8,["modelValue","options","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.host"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_host.$error&&e(i).sesConfig.mail_host.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(u).mail_host,"onUpdate:modelValue":a[1]||(a[1]=p=>e(u).mail_host=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_host.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_host",onInput:a[2]||(a[2]=p=>e(i).sesConfig.mail_host.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",wa,[t(b,{label:w.$t("wizard.mail.port"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_port.$error&&e(i).sesConfig.mail_port.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(u).mail_port,"onUpdate:modelValue":a[3]||(a[3]=p=>e(u).mail_port=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_port.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_port",onInput:a[4]||(a[4]=p=>e(i).sesConfig.mail_port.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.encryption"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_encryption.$error&&e(i).sesConfig.mail_encryption.$errors[0].$message,required:""},{default:d(()=>[t(c,{modelValue:e(u).mail_encryption,"onUpdate:modelValue":a[5]||(a[5]=p=>e(u).mail_encryption=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_encryption.$error,options:e(s),"content-loading":n.isFetchingInitialData,onInput:a[6]||(a[6]=p=>e(i).sesConfig.mail_encryption.$touch())},null,8,["modelValue","invalid","options","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",ya,[t(b,{label:w.$t("wizard.mail.from_mail"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.from_mail.$error&&e(i).sesConfig.from_mail.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(u).from_mail,"onUpdate:modelValue":a[7]||(a[7]=p=>e(u).from_mail=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_mail",onInput:a[8]||(a[8]=p=>e(i).sesConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.from_name"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.from_name.$error&&e(i).sesConfig.from_name.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(u).from_name,"onUpdate:modelValue":a[9]||(a[9]=p=>e(u).from_name=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"name",onInput:a[10]||(a[10]=p=>e(i).sesConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",ha,[t(b,{label:w.$t("wizard.mail.ses_key"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_ses_key.$error&&e(i).sesConfig.mail_ses_key.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(u).mail_ses_key,"onUpdate:modelValue":a[11]||(a[11]=p=>e(u).mail_ses_key=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_ses_key.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_ses_key",onInput:a[12]||(a[12]=p=>e(i).sesConfig.mail_ses_key.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),t(b,{label:w.$t("wizard.mail.ses_secret"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_ses_secret.$error&&e(i).sesConfig.mail_ses_secret.$errors[0].$message,required:""},{default:d(()=>[t(C,{modelValue:e(u).mail_ses_secret,"onUpdate:modelValue":a[15]||(a[15]=p=>e(u).mail_ses_secret=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_ses_secret.$error,type:w.getInputType,"content-loading":n.isFetchingInitialData,name:"mail_ses_secret",autocomplete:"off","data-lpignore":"true",onInput:a[16]||(a[16]=p=>e(i).sesConfig.mail_ses_secret.$touch())},{right:d(()=>[e(r)?(B(),S(g,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[13]||(a[13]=p=>Y(r)?r.value=!e(r):r=!e(r))})):(B(),S(g,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:a[14]||(a[14]=p=>Y(r)?r.value=!e(r):r=!e(r))}))]),_:1},8,["modelValue","invalid","type","content-loading"])]),_:1},8,["label","content-loading","error"])]),t(v,{loading:n.isSaving,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:d(p=>[n.isSaving?G("",!0):(B(),S(g,{key:0,name:"SaveIcon",class:O(p.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(w.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,ba)}}},qa=["onSubmit"],Ba={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Ca={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},ve={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:q}){const{t:l}=E(),s=H(),r=z(()=>s.basicMailConfig);z(()=>s.mail_drivers),r.value.mail_driver="mail";const y=z(()=>({basicMailConfig:{mail_driver:{required:I.withMessage(l("validation.required"),D)},from_mail:{required:I.withMessage(l("validation.required"),D),email:I.withMessage(l("validation.email_incorrect"),K)},from_name:{required:I.withMessage(l("validation.required"),D)}}})),u=L(y,z(()=>s));function f(){return u.value.$touch(),u.value.$invalid||q("submit-data",s.basicMailConfig),!1}function i(){var m;u.value.basicMailConfig.mail_driver.$touch(),q("on-change-driver",(m=s==null?void 0:s.basicMailConfig)==null?void 0:m.mail_driver)}return(m,o)=>{const w=_("BaseMultiselect"),a=_("BaseInputGroup"),c=_("BaseInput"),b=_("BaseIcon"),C=_("BaseButton");return B(),k("form",{onSubmit:W(f,["prevent"])},[V("div",Ba,[t(a,{label:m.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(u).basicMailConfig.mail_driver.$error&&e(u).basicMailConfig.mail_driver.$errors[0].$message,required:""},{default:d(()=>[t(w,{modelValue:e(r).mail_driver,"onUpdate:modelValue":[o[0]||(o[0]=g=>e(r).mail_driver=g),i],invalid:e(u).basicMailConfig.mail_driver.$error,options:e(s).mail_drivers,"can-deselect":!1,"content-loading":n.isFetchingInitialData},null,8,["modelValue","invalid","options","content-loading"])]),_:1},8,["label","content-loading","error"])]),V("div",Ca,[t(a,{label:m.$t("wizard.mail.from_name"),"content-loading":n.isFetchingInitialData,error:e(u).basicMailConfig.from_name.$error&&e(u).basicMailConfig.from_name.$errors[0].$message,required:""},{default:d(()=>[t(c,{modelValue:e(r).from_name,"onUpdate:modelValue":o[1]||(o[1]=g=>e(r).from_name=g),modelModifiers:{trim:!0},invalid:e(u).basicMailConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"name",onInput:o[2]||(o[2]=g=>e(u).basicMailConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),t(a,{label:m.$t("wizard.mail.from_mail"),"content-loading":n.isFetchingInitialData,error:e(u).basicMailConfig.from_mail.$error&&e(u).basicMailConfig.from_mail.$errors[0].$message,required:""},{default:d(()=>[t(c,{modelValue:e(r).from_mail,"onUpdate:modelValue":o[3]||(o[3]=g=>e(r).from_mail=g),modelModifiers:{trim:!0},invalid:e(u).basicMailConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,type:"text",onInput:o[4]||(o[4]=g=>e(u).basicMailConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),t(C,{loading:n.isSaving,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:d(g=>[n.isSaving?G("",!0):(B(),S(b,{key:0,name:"SaveIcon",class:O(g.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(m.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,qa)}}},Va={components:{Smtp:ca,Mailgun:_a,Ses:Ia,sendmail:ve,Mail:ve},emits:["next"],setup(n,{emit:q}){const l=M(!1),s=M(!1),r=H();r.mail_driver="mail",u();function y(i){r.mail_driver=i}async function u(){s.value=!0,await r.fetchMailDrivers(),s.value=!1}async function f(i){l.value=!0;let m=await r.updateMailConfig(i);l.value=!1,m.data.success&&await q("next",5)}return{mailDriverStore:r,isSaving:l,isFetchingInitialData:s,changeDriver:y,next:f}}};function Da(n,q,l,s,r,y){const u=_("BaseWizardStep");return B(),S(u,{title:n.$t("wizard.mail.mail_config"),description:n.$t("wizard.mail.mail_config_desc")},{default:d(()=>[V("form",{action:"",onSubmit:q[1]||(q[1]=W((...f)=>s.next&&s.next(...f),["prevent"]))},[(B(),S(le(s.mailDriverStore.mail_driver),{"config-data":s.mailDriverStore.mailConfigData,"is-saving":s.isSaving,"is-fetching-initial-data":s.isFetchingInitialData,onOnChangeDriver:q[0]||(q[0]=f=>s.changeDriver(f)),onSubmitData:s.next},null,8,["config-data","is-saving","is-fetching-initial-data","onSubmitData"]))],32)]),_:1},8,["title","description"])}var Fa=ee(Va,[["render",Da]]);const Sa=["onSubmit"],Ma={class:"grid grid-cols-1 mb-4 md:grid-cols-2 md:mb-6"},za={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ka={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},Ua={emits:["next"],setup(n,{emit:q}){let l=M(!1);const s=M(!1),r=M(!1);let y=M(""),u=M(null);const f=ce(),i=te(),{t:m}=E(),o=z(()=>f.userForm),w=z(()=>({userForm:{name:{required:I.withMessage(m("validation.required"),D)},email:{required:I.withMessage(m("validation.required"),D),email:I.withMessage(m("validation.email_incorrect"),K)},password:{required:I.withMessage(m("validation.required"),D),minLength:I.withMessage(m("validation.password_min_length",{count:8}),he(8))},confirm_password:{required:I.withMessage(m("validation.required"),Ie(f.userForm.password)),sameAsPassword:I.withMessage(m("validation.password_incorrect"),qe(f.userForm.password))}}})),a=L(w,z(()=>f));function c(g,v){u.value=v}function b(){u.value=null}async function C(){if(a.value.userForm.$touch(),a.value.userForm.$invalid)return!0;l.value=!0;let g=await f.updateCurrentUser(o.value);if(l.value=!1,g.data.data){if(u.value){let p=new FormData;p.append("admin_avatar",u.value),await f.uploadAvatar(p)}const v=g.data.data.companies[0];await i.setSelectedCompany(v),q("next",6)}}return(g,v)=>{const p=_("BaseFileUploader"),$=_("BaseInputGroup"),h=_("BaseInput"),x=_("EyeOffIcon"),j=_("EyeIcon"),A=_("BaseIcon"),Z=_("BaseButton"),N=_("BaseWizardStep");return B(),S(N,{title:g.$t("wizard.account_info"),description:g.$t("wizard.account_info_desc")},{default:d(()=>[V("form",{action:"",onSubmit:W(C,["prevent"])},[V("div",Ma,[t($,{label:g.$tc("settings.account_settings.profile_picture")},{default:d(()=>[t(p,{avatar:!0,"preview-image":e(y),onChange:c,onRemove:b},null,8,["preview-image"])]),_:1},8,["label"])]),V("div",za,[t($,{label:g.$t("wizard.name"),error:e(a).userForm.name.$error&&e(a).userForm.name.$errors[0].$message,required:""},{default:d(()=>[t(h,{modelValue:e(o).name,"onUpdate:modelValue":v[0]||(v[0]=F=>e(o).name=F),modelModifiers:{trim:!0},invalid:e(a).userForm.name.$error,type:"text",name:"name",onInput:v[1]||(v[1]=F=>e(a).userForm.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t($,{label:g.$t("wizard.email"),error:e(a).userForm.email.$error&&e(a).userForm.email.$errors[0].$message,required:""},{default:d(()=>[t(h,{modelValue:e(o).email,"onUpdate:modelValue":v[2]||(v[2]=F=>e(o).email=F),modelModifiers:{trim:!0},invalid:e(a).userForm.email.$error,type:"text",name:"email",onInput:v[3]||(v[3]=F=>e(a).userForm.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),V("div",ka,[t($,{label:g.$t("wizard.password"),error:e(a).userForm.password.$error&&e(a).userForm.password.$errors[0].$message,required:""},{default:d(()=>[t(h,{modelValue:e(o).password,"onUpdate:modelValue":v[6]||(v[6]=F=>e(o).password=F),modelModifiers:{trim:!0},invalid:e(a).userForm.password.$error,type:s.value?"text":"password",name:"password",onInput:v[7]||(v[7]=F=>e(a).userForm.password.$touch())},{right:d(()=>[s.value?(B(),S(x,{key:0,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[4]||(v[4]=F=>s.value=!s.value)})):(B(),S(j,{key:1,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[5]||(v[5]=F=>s.value=!s.value)}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["label","error"]),t($,{label:g.$t("wizard.confirm_password"),error:e(a).userForm.confirm_password.$error&&e(a).userForm.confirm_password.$errors[0].$message,required:""},{default:d(()=>[t(h,{modelValue:e(o).confirm_password,"onUpdate:modelValue":v[10]||(v[10]=F=>e(o).confirm_password=F),modelModifiers:{trim:!0},invalid:e(a).userForm.confirm_password.$error,type:r.value?"text":"password",name:"confirm_password",onInput:v[11]||(v[11]=F=>e(a).userForm.confirm_password.$touch())},{right:d(()=>[r.value?(B(),S(A,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[8]||(v[8]=F=>r.value=!r.value)})):(B(),S(A,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[9]||(v[9]=F=>r.value=!r.value)}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["label","error"])]),t(Z,{loading:e(l),disabled:e(l),class:"mt-4"},{left:d(F=>[e(l)?G("",!0):(B(),S(A,{key:0,name:"SaveIcon",class:O(F.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(g.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled"])],40,Sa)]),_:1},8,["title","description"])}}},Pa=["onSubmit"],Na={class:"grid grid-cols-1 mb-4 md:grid-cols-2 md:mb-6"},Ga={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Ea={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Oa={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},xa={emits:["next"],setup(n,{emit:q}){let l=M(!1),s=M(!1);const{t:r}=E();let y=M(null),u=M(null),f=M(null);const i=T({name:null,address:{address_street_1:"",address_street_2:"",website:"",country_id:null,state:"",city:"",phone:"",zip:""}}),m=te(),o=ge();J(async()=>{l.value=!0,await o.fetchCountries(),l.value=!1});const w={companyForm:{name:{required:I.withMessage(r("validation.required"),D)},address:{country_id:{required:I.withMessage(r("validation.required"),D)},address_street_1:{maxLength:I.withMessage(r("validation.address_maxlength",{count:255}),fe(255))},address_street_2:{maxLength:I.withMessage(r("validation.address_maxlength",{count:255}),fe(255))}}}},a=L(w,{companyForm:i});function c(g,v,p,$){f.value=$.name,u.value=v}function b(){u.value=null}async function C(){if(a.value.companyForm.$touch(),a.value.$invalid)return!0;if(s.value=!0,m.updateCompany(i)){if(u.value){let v=new FormData;v.append("company_logo",JSON.stringify({name:f.value,data:u.value})),await m.updateCompanyLogo(v)}s.value=!1,q("next",7)}}return(g,v)=>{const p=_("BaseFileUploader"),$=_("BaseInputGroup"),h=_("BaseInput"),x=_("BaseMultiselect"),j=_("BaseTextarea"),A=_("BaseIcon"),Z=_("BaseButton"),N=_("BaseWizardStep");return B(),S(N,{title:g.$t("wizard.company_info"),description:g.$t("wizard.company_info_desc"),"step-container":"bg-white border border-gray-200 border-solid mb-8 md:w-full p-8 rounded w-full"},{default:d(()=>[V("form",{action:"",onSubmit:W(C,["prevent"])},[V("div",Na,[t($,{label:g.$tc("settings.company_info.company_logo")},{default:d(()=>[t(p,{base64:"","preview-image":e(y),onChange:c,onRemove:b},null,8,["preview-image"])]),_:1},8,["label"])]),V("div",Ga,[t($,{label:g.$t("wizard.company_name"),error:e(a).companyForm.name.$error&&e(a).companyForm.name.$errors[0].$message,required:""},{default:d(()=>[t(h,{modelValue:e(i).name,"onUpdate:modelValue":v[0]||(v[0]=F=>e(i).name=F),modelModifiers:{trim:!0},invalid:e(a).companyForm.name.$error,type:"text",name:"name",onInput:v[1]||(v[1]=F=>e(a).companyForm.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),t($,{label:g.$t("wizard.country"),error:e(a).companyForm.address.country_id.$error&&e(a).companyForm.address.country_id.$errors[0].$message,"content-loading":e(l),required:""},{default:d(()=>[t(x,{modelValue:e(i).address.country_id,"onUpdate:modelValue":v[2]||(v[2]=F=>e(i).address.country_id=F),label:"name",invalid:e(a).companyForm.address.country_id.$error,options:e(o).countries,"value-prop":"id","can-deselect":!1,"can-clear":!1,"content-loading":e(l),placeholder:g.$t("general.select_country"),searchable:"","track-by":"name"},null,8,["modelValue","invalid","options","content-loading","placeholder"])]),_:1},8,["label","error","content-loading"])]),V("div",Ea,[t($,{label:g.$t("wizard.state")},{default:d(()=>[t(h,{modelValue:e(i).address.state,"onUpdate:modelValue":v[3]||(v[3]=F=>e(i).address.state=F),name:"state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),t($,{label:g.$t("wizard.city")},{default:d(()=>[t(h,{modelValue:e(i).address.city,"onUpdate:modelValue":v[4]||(v[4]=F=>e(i).address.city=F),name:"city",type:"text"},null,8,["modelValue"])]),_:1},8,["label"])]),V("div",Oa,[V("div",null,[t($,{label:g.$t("wizard.address"),error:e(a).companyForm.address.address_street_1.$error&&e(a).companyForm.address.address_street_1.$errors[0].$message},{default:d(()=>[t(j,{modelValue:e(i).address.address_street_1,"onUpdate:modelValue":v[5]||(v[5]=F=>e(i).address.address_street_1=F),modelModifiers:{trim:!0},invalid:e(a).companyForm.address.address_street_1.$error,placeholder:g.$t("general.street_1"),name:"billing_street1",rows:"2",onInput:v[6]||(v[6]=F=>e(a).companyForm.address.address_street_1.$touch())},null,8,["modelValue","invalid","placeholder"])]),_:1},8,["label","error"]),t($,{error:e(a).companyForm.address.address_street_2.$error&&e(a).companyForm.address.address_street_2.$errors[0].$message,class:"mt-1 lg:mt-2 md:mt-2"},{default:d(()=>[t(j,{modelValue:e(i).address.address_street_2,"onUpdate:modelValue":v[7]||(v[7]=F=>e(i).address.address_street_2=F),invalid:e(a).companyForm.address.address_street_2.$error,placeholder:g.$t("general.street_2"),name:"billing_street2",rows:"2",onInput:v[8]||(v[8]=F=>e(a).companyForm.address.address_street_2.$touch())},null,8,["modelValue","invalid","placeholder"])]),_:1},8,["error"])]),V("div",null,[t($,{label:g.$t("wizard.zip_code")},{default:d(()=>[t(h,{modelValue:e(i).address.zip,"onUpdate:modelValue":v[9]||(v[9]=F=>e(i).address.zip=F),modelModifiers:{trim:!0},type:"text",name:"zip"},null,8,["modelValue"])]),_:1},8,["label"]),t($,{label:g.$t("wizard.phone"),class:"mt-4"},{default:d(()=>[t(h,{modelValue:e(i).address.phone,"onUpdate:modelValue":v[10]||(v[10]=F=>e(i).address.phone=F),modelModifiers:{trim:!0},type:"text",name:"phone"},null,8,["modelValue"])]),_:1},8,["label"])])]),t(Z,{loading:e(s),disabled:e(s),class:"mt-4"},{left:d(F=>[e(s)?G("",!0):(B(),S(A,{key:0,name:"SaveIcon",class:O(F.class)},null,8,["class"]))]),default:d(()=>[P(" "+U(g.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled"])],40,Pa)]),_:1},8,["title","description"])}}},La=["onSubmit"],Wa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Ta={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Ra={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},ja={emits:["next"],setup(n,{emit:q}){const l=M(!1);let s=M(!1),r=T({currency:1,language:"en",carbon_date_format:"d M Y",time_zone:"UTC",fiscal_year:"1-12"});const{tm:y,t:u}=E(),f=pe();s.value=!0,T([{title:y("settings.customization.invoices.allow"),value:"allow"},{title:y("settings.customization.invoices.disable_on_invoice_partial_paid"),value:"disable_on_invoice_partial_paid"},{title:y("settings.customization.invoices.disable_on_invoice_paid"),value:"disable_on_invoice_paid"},{title:y("settings.customization.invoices.disable_on_invoice_sent"),value:"disable_on_invoice_sent"}]);const i=me(),m=ge(),o=te(),w=ce(),a=ae();let c={key:"fiscal_years"},b={key:"languages"};s.value=!0,Promise.all([m.fetchCurrencies(),m.fetchDateFormats(),m.fetchTimeZones(),m.fetchCountries(),m.fetchConfig(c),m.fetchConfig(b)]).then(([p])=>{s.value=!1});const C=z(()=>({currentPreferences:{currency:{required:I.withMessage(u("validation.required"),D)},language:{required:I.withMessage(u("validation.required"),D)},carbon_date_format:{required:I.withMessage(u("validation.required"),D)},time_zone:{required:I.withMessage(u("validation.required"),D)},fiscal_year:{required:I.withMessage(u("validation.required"),D)}}})),g=L(C,{currentPreferences:r});async function v(){if(g.value.currentPreferences.$touch(),g.value.$invalid)return!0;i.openDialog({title:u("general.do_you_wish_to_continue"),message:u("wizard.currency_set_alert"),yesLabel:u("general.ok"),noLabel:u("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(async p=>{if(p){let $={settings:ue({},r)};l.value=!0,delete $.settings.discount_per_item;let h=await o.updateCompanySettings({data:$});if(h.data){l.value=!1;let x={settings:{language:r.language}};(await w.updateUserSettings(x)).data&&(q("next","COMPLETED"),a.showNotification({type:"success",message:"Login Successful"}),f.push("/admin/dashboard")),we.set("auth.token",h.data.token)}return!0}return l.value=!1,!0})}return(p,$)=>{const h=_("BaseMultiselect"),x=_("BaseInputGroup"),j=_("BaseIcon"),A=_("BaseButton"),Z=_("BaseWizardStep");return B(),S(Z,{title:p.$t("wizard.preferences"),description:p.$t("wizard.preferences_desc"),"step-container":"bg-white border border-gray-200 border-solid mb-8 md:w-full p-8 rounded w-full"},{default:d(()=>[V("form",{action:"",onSubmit:W(v,["prevent"])},[V("div",null,[V("div",Wa,[t(x,{label:p.$t("wizard.currency"),error:e(g).currentPreferences.currency.$error&&e(g).currentPreferences.currency.$errors[0].$message,"content-loading":e(s),required:""},{default:d(()=>[t(h,{modelValue:e(r).currency,"onUpdate:modelValue":$[0]||($[0]=N=>e(r).currency=N),"content-loading":e(s),options:e(m).currencies,label:"name","value-prop":"id",searchable:!0,"track-by":"name",placeholder:p.$tc("settings.currencies.select_currency"),invalid:e(g).currentPreferences.currency.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"]),t(x,{label:p.$t("settings.preferences.default_language"),error:e(g).currentPreferences.language.$error&&e(g).currentPreferences.language.$errors[0].$message,"content-loading":e(s),required:""},{default:d(()=>[t(h,{modelValue:e(r).language,"onUpdate:modelValue":$[1]||($[1]=N=>e(r).language=N),"content-loading":e(s),options:e(m).languages,label:"name","value-prop":"code",placeholder:p.$tc("settings.preferences.select_language"),class:"w-full","track-by":"code",searchable:!0,invalid:e(g).currentPreferences.language.$error},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"])]),V("div",Ta,[t(x,{label:p.$t("wizard.date_format"),error:e(g).currentPreferences.carbon_date_format.$error&&e(g).currentPreferences.carbon_date_format.$errors[0].$message,"content-loading":e(s),required:""},{default:d(()=>[t(h,{modelValue:e(r).carbon_date_format,"onUpdate:modelValue":$[2]||($[2]=N=>e(r).carbon_date_format=N),"content-loading":e(s),options:e(m).dateFormats,label:"display_date","value-prop":"carbon_format_value",placeholder:p.$tc("settings.preferences.select_date_format"),"track-by":"display_date",searchable:"",invalid:e(g).currentPreferences.carbon_date_format.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"]),t(x,{label:p.$t("wizard.time_zone"),error:e(g).currentPreferences.time_zone.$error&&e(g).currentPreferences.time_zone.$errors[0].$message,"content-loading":e(s),required:""},{default:d(()=>[t(h,{modelValue:e(r).time_zone,"onUpdate:modelValue":$[3]||($[3]=N=>e(r).time_zone=N),"content-loading":e(s),options:e(m).timeZones,label:"key","value-prop":"value",placeholder:p.$tc("settings.preferences.select_time_zone"),"track-by":"value",searchable:!0,invalid:e(g).currentPreferences.time_zone.$error},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"])]),V("div",Ra,[t(x,{label:p.$t("wizard.fiscal_year"),error:e(g).currentPreferences.fiscal_year.$error&&e(g).currentPreferences.fiscal_year.$errors[0].$message,"content-loading":e(s),required:""},{default:d(()=>[t(h,{modelValue:e(r).fiscal_year,"onUpdate:modelValue":$[4]||($[4]=N=>e(r).fiscal_year=N),"content-loading":e(s),options:e(m).fiscalYears,label:"key","value-prop":"value",placeholder:p.$tc("settings.preferences.select_financial_year"),invalid:e(g).currentPreferences.fiscal_year.$error,"track-by":"key",searchable:!0,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"])]),t(A,{loading:l.value,disabled:l.value,"content-loading":e(s),class:"mt-4"},{left:d(N=>[t(j,{name:"SaveIcon",class:O(N.class)},null,8,["class"])]),default:d(()=>[P(" "+U(p.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled","content-loading"])])],40,La)]),_:1},8,["title","description"])}}},Aa={components:{step_1:Ge,step_2:Re,step_3:ta,step_4:ra,step_5:Fa,step_6:Ua,step_7:xa,step_8:ja},setup(){let n=M("step_1"),q=M(1);const l=pe(),s=R();r();async function r(){let i=await s.fetchInstallationStep();if(i.data.profile_complete==="COMPLETED"){l.push("/admin/dashboard");return}let m=parseInt(i.data.profile_complete);m&&(q.value=m+1,n.value=`step_${m+1}`)}async function y(i){var o,w;let m={profile_complete:i};try{return await s.addInstallationStep(m),!0}catch(a){return((w=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:w.message)==="The MAC is invalid."&&window.location.reload(),!1}}async function u(i){if(i&&!await y(i))return!1;q.value++,q.value<=8&&(n.value="step_"+q.value)}function f(i){}return{stepComponent:n,currentStepNumber:q,onStepChange:u,saveStepProgress:y,onNavClick:f}}},Ya={class:"flex flex-col items-center justify-between w-full pt-10"},Za=V("img",{id:"logo-crater",src:ye,alt:"Crater Logo",class:"h-12 mb-5 md:mb-10"},null,-1);function Ha(n,q,l,s,r,y){const u=_("BaseWizard");return B(),k("div",Ya,[Za,t(u,{steps:7,"current-step":s.currentStepNumber,onClick:s.onNavClick},{default:d(()=>[(B(),S(le(s.stepComponent),{onNext:s.onStepChange},null,8,["onNext"]))]),_:1},8,["current-step","onClick"])])}var Xa=ee(Aa,[["render",Ha]]);export{Xa as default};
