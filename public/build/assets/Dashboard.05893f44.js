import{_ as v,b as I,c as H,d as B,e as m}from"./main.c4ed6aa9.js";import{o as d,c as b,t as e,r as l,s as C,w as c,b as t,W as j,x as u,an as L,z as F,am as M,y as o,v as g,i as E,D as N,g as O,k as P,a5 as A,u as Z,C as W,M as z}from"./vendor.e9042f2c.js";import{_ as R}from"./LineChart.1e4f5d60.js";import{_ as q}from"./InvoiceIndexDropdown.d1c989d3.js";import{_ as U}from"./EstimateIndexDropdown.16bd4994.js";const Y={},G={width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J=e("circle",{cx:"25",cy:"25",r:"25",fill:"#FDE4E5"},null,-1),K=e("path",{d:"M27.2031 23.6016C28.349 23.9401 29.2083 24.6562 29.7812 25.75C30.3802 26.8438 30.4714 27.9766 30.0547 29.1484C29.7422 30.0078 29.2083 30.6979 28.4531 31.2188C27.6979 31.7135 26.8516 31.974 25.9141 32V33.875C25.9141 34.0573 25.849 34.2005 25.7188 34.3047C25.6146 34.4349 25.4714 34.5 25.2891 34.5H24.0391C23.8568 34.5 23.7005 34.4349 23.5703 34.3047C23.4661 34.2005 23.4141 34.0573 23.4141 33.875V32C22.1641 32 21.0443 31.6094 20.0547 30.8281C19.8984 30.6979 19.8073 30.5417 19.7812 30.3594C19.7552 30.1771 19.8203 30.0208 19.9766 29.8906L21.3047 28.5625C21.5651 28.3281 21.8255 28.3021 22.0859 28.4844C22.4766 28.7448 22.9193 28.875 23.4141 28.875H25.9922C26.3307 28.875 26.6042 28.7708 26.8125 28.5625C27.0469 28.3281 27.1641 28.0417 27.1641 27.7031C27.1641 27.1302 26.8906 26.7656 26.3438 26.6094L22.3203 25.4375C21.4349 25.1771 20.6927 24.7083 20.0938 24.0312C19.4948 23.3542 19.1432 22.5729 19.0391 21.6875C18.9349 20.4115 19.2995 19.3177 20.1328 18.4062C20.9922 17.4688 22.0599 17 23.3359 17H23.4141V15.125C23.4141 14.9427 23.4661 14.7995 23.5703 14.6953C23.7005 14.5651 23.8568 14.5 24.0391 14.5H25.2891C25.4714 14.5 25.6146 14.5651 25.7188 14.6953C25.849 14.7995 25.9141 14.9427 25.9141 15.125V17C27.1641 17 28.2839 17.3906 29.2734 18.1719C29.4297 18.3021 29.5208 18.4583 29.5469 18.6406C29.5729 18.8229 29.5078 18.9792 29.3516 19.1094L28.0234 20.4375C27.763 20.6719 27.5026 20.6979 27.2422 20.5156C26.8516 20.2552 26.4089 20.125 25.9141 20.125H23.3359C22.9974 20.125 22.7109 20.2422 22.4766 20.4766C22.2682 20.6849 22.1641 20.9583 22.1641 21.2969C22.1641 21.5312 22.2422 21.7526 22.3984 21.9609C22.5547 22.1693 22.75 22.3125 22.9844 22.3906L27.2031 23.6016Z",fill:"#FB7178"},null,-1),Q=[J,K];function X(r,s){return d(),b("svg",G,Q)}var ee=v(Y,[["render",X]]);const te={},se={width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe=e("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),ae=e("path",{d:"M28.2656 23.0547C27.3021 24.0182 26.1302 24.5 24.75 24.5C23.3698 24.5 22.1849 24.0182 21.1953 23.0547C20.2318 22.0651 19.75 20.8802 19.75 19.5C19.75 18.1198 20.2318 16.9479 21.1953 15.9844C22.1849 14.9948 23.3698 14.5 24.75 14.5C26.1302 14.5 27.3021 14.9948 28.2656 15.9844C29.2552 16.9479 29.75 18.1198 29.75 19.5C29.75 20.8802 29.2552 22.0651 28.2656 23.0547ZM28.2656 25.75C29.6979 25.75 30.9219 26.2708 31.9375 27.3125C32.9792 28.3281 33.5 29.5521 33.5 30.9844V32.625C33.5 33.1458 33.3177 33.5885 32.9531 33.9531C32.5885 34.3177 32.1458 34.5 31.625 34.5H17.875C17.3542 34.5 16.9115 34.3177 16.5469 33.9531C16.1823 33.5885 16 33.1458 16 32.625V30.9844C16 29.5521 16.5078 28.3281 17.5234 27.3125C18.5651 26.2708 19.8021 25.75 21.2344 25.75H21.8984C22.8099 26.1667 23.7604 26.375 24.75 26.375C25.7396 26.375 26.6901 26.1667 27.6016 25.75H28.2656Z",fill:"#5851D8"},null,-1),ne=[oe,ae];function le(r,s){return d(),b("svg",se,ne)}var ce=v(te,[["render",le]]);const re={},ie={width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},de=e("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),_e=e("path",{d:"M28.25 24.5V27H20.75V24.5H28.25ZM31.7266 18.6016C31.9089 18.7839 32 19.0052 32 19.2656V19.5H27V14.5H27.2344C27.4948 14.5 27.7161 14.5911 27.8984 14.7734L31.7266 18.6016ZM25.75 19.8125C25.75 20.0729 25.8411 20.2943 26.0234 20.4766C26.2057 20.6589 26.4271 20.75 26.6875 20.75H32V33.5625C32 33.8229 31.9089 34.0443 31.7266 34.2266C31.5443 34.4089 31.3229 34.5 31.0625 34.5H17.9375C17.6771 34.5 17.4557 34.4089 17.2734 34.2266C17.0911 34.0443 17 33.8229 17 33.5625V15.4375C17 15.1771 17.0911 14.9557 17.2734 14.7734C17.4557 14.5911 17.6771 14.5 17.9375 14.5H25.75V19.8125ZM19.5 17.3125V17.9375C19.5 18.1458 19.6042 18.25 19.8125 18.25H22.9375C23.1458 18.25 23.25 18.1458 23.25 17.9375V17.3125C23.25 17.1042 23.1458 17 22.9375 17H19.8125C19.6042 17 19.5 17.1042 19.5 17.3125ZM19.5 19.8125V20.4375C19.5 20.6458 19.6042 20.75 19.8125 20.75H22.9375C23.1458 20.75 23.25 20.6458 23.25 20.4375V19.8125C23.25 19.6042 23.1458 19.5 22.9375 19.5H19.8125C19.6042 19.5 19.5 19.6042 19.5 19.8125ZM29.5 31.6875V31.0625C29.5 30.8542 29.3958 30.75 29.1875 30.75H26.0625C25.8542 30.75 25.75 30.8542 25.75 31.0625V31.6875C25.75 31.8958 25.8542 32 26.0625 32H29.1875C29.3958 32 29.5 31.8958 29.5 31.6875ZM29.5 23.875C29.5 23.6927 29.4349 23.5495 29.3047 23.4453C29.2005 23.3151 29.0573 23.25 28.875 23.25H20.125C19.9427 23.25 19.7865 23.3151 19.6562 23.4453C19.5521 23.5495 19.5 23.6927 19.5 23.875V27.625C19.5 27.8073 19.5521 27.9635 19.6562 28.0938C19.7865 28.1979 19.9427 28.25 20.125 28.25H28.875C29.0573 28.25 29.2005 28.1979 29.3047 28.0938C29.4349 27.9635 29.5 27.8073 29.5 27.625V23.875Z",fill:"#5851D8"},null,-1),ue=[de,_e];function me(r,s){return d(),b("svg",ie,ue)}var he=v(re,[["render",me]]);const pe={},Ce={width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe=e("circle",{cx:"25",cy:"25",r:"25",fill:"#EAF1FB"},null,-1),xe=e("path",{d:"M26.75 19.8125C26.75 20.0729 26.8411 20.2943 27.0234 20.4766C27.2057 20.6589 27.4271 20.75 27.6875 20.75H33V33.5625C33 33.8229 32.9089 34.0443 32.7266 34.2266C32.5443 34.4089 32.3229 34.5 32.0625 34.5H18.9375C18.6771 34.5 18.4557 34.4089 18.2734 34.2266C18.0911 34.0443 18 33.8229 18 33.5625V15.4375C18 15.1771 18.0911 14.9557 18.2734 14.7734C18.4557 14.5911 18.6771 14.5 18.9375 14.5H26.75V19.8125ZM33 19.2656V19.5H28V14.5H28.2344C28.4948 14.5 28.7161 14.5911 28.8984 14.7734L32.7266 18.6016C32.9089 18.7839 33 19.0052 33 19.2656Z",fill:"#5851D8"},null,-1),be=[fe,xe];function ge(r,s){return d(),b("svg",Ce,be)}var ye=v(pe,[["render",ge]]);const ve={},we={class:"flex items-center"};function $e(r,s){const a=l("BaseContentPlaceholdersText"),n=l("BaseContentPlaceholdersBox"),_=l("BaseContentPlaceholders");return d(),C(_,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-3 xl:p-4"},{default:c(()=>[e("div",null,[t(a,{class:"h-5 -mb-1 w-14 xl:mb-6 xl:h-7",lines:1}),t(a,{class:"h-3 w-28 xl:h-4",lines:1})]),e("div",we,[t(n,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var Be=v(ve,[["render",$e]]);const Ee={},De={class:"flex items-center"};function Ve(r,s){const a=l("BaseContentPlaceholdersText"),n=l("BaseContentPlaceholdersBox"),_=l("BaseContentPlaceholders");return d(),C(_,{rounded:!0,class:"relative flex justify-between w-full p-3 bg-white rounded shadow lg:col-span-2 xl:p-4"},{default:c(()=>[e("div",null,[t(a,{class:"w-12 h-5 -mb-1 xl:mb-6 xl:h-7",lines:1}),t(a,{class:"w-20 h-3 xl:h-4",lines:1})]),e("div",De,[t(n,{circle:!0,class:"w-10 h-10 xl:w-12 xl:h-12"})])]),_:1})}var Ie=v(Ee,[["render",Ve]]);const Te={class:"text-xl font-semibold leading-tight text-black xl:text-3xl"},Se={class:"block mt-1 text-sm leading-tight text-gray-500 xl:text-lg"},ke={class:"flex items-center"},D={props:{iconComponent:{type:Object,required:!0},loading:{type:Boolean,default:!1},route:{type:String,required:!0},label:{type:String,required:!0},large:{type:Boolean,default:!1}},setup(r){return(s,a)=>{const n=l("router-link");return r.loading?r.large?(d(),C(Be,{key:1})):(d(),C(Ie,{key:2})):(d(),C(n,{key:0,class:F(["relative flex justify-between p-3 bg-white rounded shadow hover:bg-gray-50 xl:p-4 lg:col-span-2",{"lg:!col-span-3":r.large}]),to:r.route},{default:c(()=>[e("div",null,[e("span",Te,[j(s.$slots,"default")]),e("span",Se,u(r.label),1)]),e("div",ke,[(d(),C(L(r.iconComponent),{class:"w-10 h-10 xl:w-12 xl:h-12"}))])]),_:3},8,["class","to"]))}}},He={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-9 xl:gap-8"},Me={setup(r){M("utils");const s=I(),a=H(),n=B();return(_,y)=>{const f=l("BaseFormatMoney");return d(),b("div",He,[t(D,{"icon-component":ee,loading:!o(s).isDashboardDataLoaded,route:o(n).hasAbilities(o(m).VIEW_INVOICE)?"/admin/invoices":"",large:!0,label:_.$t("dashboard.cards.due_amount")},{default:c(()=>[t(f,{amount:o(s).stats.totalAmountDue,currency:o(a).selectedCompanyCurrency},null,8,["amount","currency"])]),_:1},8,["loading","route","label"]),t(D,{"icon-component":ce,loading:!o(s).isDashboardDataLoaded,route:o(n).hasAbilities(o(m).VIEW_CUSTOMER)?"/admin/customers":"",label:_.$t("dashboard.cards.customers")},{default:c(()=>[g(u(o(s).stats.totalCustomerCount),1)]),_:1},8,["loading","route","label"]),t(D,{"icon-component":he,loading:!o(s).isDashboardDataLoaded,route:o(n).hasAbilities(o(m).VIEW_INVOICE)?"/admin/invoices":"",label:_.$t("dashboard.cards.invoices")},{default:c(()=>[g(u(o(s).stats.totalInvoiceCount),1)]),_:1},8,["loading","route","label"]),t(D,{"icon-component":ye,loading:!o(s).isDashboardDataLoaded,route:o(n).hasAbilities(o(m).VIEW_ESTIMATE)?"/admin/estimates":"",label:_.$t("dashboard.cards.estimates")},{default:c(()=>[g(u(o(s).stats.totalEstimateCount),1)]),_:1},8,["loading","route","label"])])}}},Pe={},Ae={class:"grid grid-cols-1 col-span-10 px-4 py-5 lg:col-span-7 xl:col-span-8 sm:p-8"},je={class:"flex items-center justify-between mb-2 xl:mb-4"},Le={class:"grid grid-cols-3 col-span-10 text-center border-t border-l border-gray-200 border-solid lg:border-t-0 lg:text-right lg:col-span-3 xl:col-span-2 lg:grid-cols-1"},Fe={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},Ne={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},Oe={class:"flex flex-col items-center justify-center p-6 lg:justify-end lg:items-end"},Ze={class:"flex flex-col items-center justify-center col-span-3 p-6 border-t border-gray-200 border-solid lg:justify-end lg:items-end lg:col-span-1"};function We(r,s){const a=l("BaseContentPlaceholdersText"),n=l("BaseContentPlaceholdersBox"),_=l("BaseContentPlaceholders");return d(),C(_,{class:"grid grid-cols-10 mt-8 bg-white rounded shadow"},{default:c(()=>[e("div",Ae,[e("div",je,[t(a,{class:"h-10 w-36",lines:1}),t(a,{class:"h-10 w-36 !mt-0",lines:1})]),t(n,{class:"h-80 xl:h-72 sm:w-full"})]),e("div",Le,[e("div",Fe,[t(a,{class:"h-3 w-14 xl:h-4",lines:1}),t(a,{class:"w-20 h-5 xl:h-6",lines:1})]),e("div",Ne,[t(a,{class:"h-3 w-14 xl:h-4",lines:1}),t(a,{class:"w-20 h-5 xl:h-6",lines:1})]),e("div",Oe,[t(a,{class:"h-3 w-14 xl:h-4",lines:1}),t(a,{class:"w-20 h-5 xl:h-6",lines:1})]),e("div",Ze,[t(a,{class:"h-3 w-14 xl:h-4",lines:1}),t(a,{class:"w-20 h-5 xl:h-6",lines:1})])])]),_:1})}var ze=v(Pe,[["render",We]]);const Re={key:0,class:"grid grid-cols-10 mt-8 bg-white rounded shadow"},qe={class:"grid grid-cols-1 col-span-10 px-4 py-5 lg:col-span-7 xl:col-span-8 sm:p-6"},Ue={class:"flex justify-between mt-1 mb-4 flex-col md:flex-row"},Ye={class:"flex items-center sw-section-title h-10"},Ge={class:"w-full my-2 md:m-0 md:w-40 h-10"},Je={class:"grid grid-cols-3 col-span-10 text-center border-t border-l border-gray-200 border-solid lg:border-t-0 lg:text-right lg:col-span-3 xl:col-span-2 lg:grid-cols-1"},Ke={class:"p-6"},Qe={class:"text-xs leading-5 lg:text-sm"},Xe=e("br",null,null,-1),et={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl"},tt={class:"p-6"},st={class:"text-xs leading-5 lg:text-sm"},ot=e("br",null,null,-1),at={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-green-400"},nt={class:"p-6"},lt={class:"text-xs leading-5 lg:text-sm"},ct=e("br",null,null,-1),rt={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-red-400"},it={class:"col-span-3 p-6 border-t border-gray-200 border-solid lg:col-span-1"},dt={class:"text-xs leading-5 lg:text-sm"},_t=e("br",null,null,-1),ut={class:"block mt-1 text-xl font-semibold leading-8 lg:text-2xl text-primary-500"},mt={setup(r){const s=I(),a=H();M("utils");const n=B(),_=E(["This year","Previous year"]),y=E("This year");N(y,h=>{h==="Previous year"?f({previous_year:!0}):f()},{immediate:!0});async function f(h){n.hasAbilities(m.DASHBOARD)&&await s.loadData(h)}return(h,w)=>{const V=l("BaseIcon"),x=l("BaseMultiselect"),p=l("BaseFormatMoney");return d(),b("div",null,[o(s).isDashboardDataLoaded?(d(),b("div",Re,[e("div",qe,[e("div",Ue,[e("h6",Ye,[t(V,{name:"ChartSquareBarIcon",class:"text-primary-400 mr-1"}),g(" "+u(h.$t("dashboard.monthly_chart.title")),1)]),e("div",Ge,[t(x,{modelValue:y.value,"onUpdate:modelValue":w[0]||(w[0]=$=>y.value=$),options:_.value,"allow-empty":!1,"show-labels":!1,placeholder:h.$t("dashboard.select_year"),"can-deselect":!1},null,8,["modelValue","options","placeholder"])])]),t(R,{invoices:o(s).chartData.invoiceTotals,expenses:o(s).chartData.expenseTotals,receipts:o(s).chartData.receiptTotals,income:o(s).chartData.netIncomeTotals,labels:o(s).chartData.months,class:"sm:w-full"},null,8,["invoices","expenses","receipts","income","labels"])]),e("div",Je,[e("div",Ke,[e("span",Qe,u(h.$t("dashboard.chart_info.total_sales")),1),Xe,e("span",et,[t(p,{amount:o(s).totalSales,currency:o(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),e("div",tt,[e("span",st,u(h.$t("dashboard.chart_info.total_receipts")),1),ot,e("span",at,[t(p,{amount:o(s).totalReceipts,currency:o(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),e("div",nt,[e("span",lt,u(h.$t("dashboard.chart_info.total_expense")),1),ct,e("span",rt,[t(p,{amount:o(s).totalExpenses,currency:o(a).selectedCompanyCurrency},null,8,["amount","currency"])])]),e("div",it,[e("span",dt,u(h.$t("dashboard.chart_info.net_income")),1),_t,e("span",ut,[t(p,{amount:o(s).totalNetIncome,currency:o(a).selectedCompanyCurrency},null,8,["amount","currency"])])])])])):(d(),C(ze,{key:1}))])}}},ht={class:"grid grid-cols-1 gap-6 mt-10 xl:grid-cols-2"},pt={class:"due-invoices"},Ct={class:"relative z-10 flex items-center justify-between mb-3"},ft={class:"mb-0 text-xl font-semibold leading-normal"},xt={class:"recent-estimates"},bt={class:"relative z-10 flex items-center justify-between mb-3"},gt={class:"mb-0 text-xl font-semibold leading-normal"},yt={setup(r){const s=I(),{t:a}=O(),n=B(),_=E(null),y=E(null),f=P(()=>[{key:"formattedDueDate",label:a("dashboard.recent_invoices_card.due_on")},{key:"user",label:a("dashboard.recent_invoices_card.customer")},{key:"due_amount",label:a("dashboard.recent_invoices_card.amount_due")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]),h=P(()=>[{key:"formattedEstimateDate",label:a("dashboard.recent_estimate_card.date")},{key:"user",label:a("dashboard.recent_estimate_card.customer")},{key:"total",label:a("dashboard.recent_estimate_card.amount_due")},{key:"actions",tdClass:"text-right text-sm font-medium pl-0",thClass:"text-right pl-0",sortable:!1}]);function w(){return n.hasAbilities([m.DELETE_INVOICE,m.EDIT_INVOICE,m.VIEW_INVOICE,m.SEND_INVOICE])}function V(){return n.hasAbilities([m.CREATE_ESTIMATE,m.EDIT_ESTIMATE,m.VIEW_ESTIMATE,m.SEND_ESTIMATE])}return(x,p)=>{const $=l("BaseButton"),T=l("router-link"),S=l("BaseFormatMoney"),k=l("BaseTable");return d(),b("div",null,[e("div",ht,[e("div",pt,[e("div",Ct,[e("h6",ft,u(x.$t("dashboard.recent_invoices_card.title")),1),t($,{size:"sm",variant:"primary-outline",onClick:p[0]||(p[0]=i=>x.$router.push("/admin/invoices"))},{default:c(()=>[g(u(x.$t("dashboard.recent_invoices_card.view_all")),1)]),_:1})]),t(k,{data:o(s).recentDueInvoices,columns:o(f),loading:!o(s).isDashboardDataLoaded},A({"cell-user":c(({row:i})=>[t(T,{to:{path:`invoices/${i.data.id}/view`},class:"font-medium text-primary-500"},{default:c(()=>[g(u(i.data.customer.name),1)]),_:2},1032,["to"])]),"cell-due_amount":c(({row:i})=>[t(S,{amount:i.data.due_amount,currency:i.data.customer.currency},null,8,["amount","currency"])]),_:2},[w()?{name:"cell-actions",fn:c(({row:i})=>[t(q,{row:i.data,table:_.value},null,8,["row","table"])])}:void 0]),1032,["data","columns","loading"])]),e("div",xt,[e("div",bt,[e("h6",gt,u(x.$t("dashboard.recent_estimate_card.title")),1),t($,{variant:"primary-outline",size:"sm",onClick:p[1]||(p[1]=i=>x.$router.push("/admin/estimates"))},{default:c(()=>[g(u(x.$t("dashboard.recent_estimate_card.view_all")),1)]),_:1})]),t(k,{data:o(s).recentEstimates,columns:o(h),loading:!o(s).isDashboardDataLoaded},A({"cell-user":c(({row:i})=>[t(T,{to:{path:`estimates/${i.data.id}/view`},class:"font-medium text-primary-500"},{default:c(()=>[g(u(i.data.customer.name),1)]),_:2},1032,["to"])]),"cell-total":c(({row:i})=>[t(S,{amount:i.data.total,currency:i.data.customer.currency},null,8,["amount","currency"])]),_:2},[V()?{name:"cell-actions",fn:c(({row:i})=>[t(U,{row:i,table:y.value},null,8,["row","table"])])}:void 0]),1032,["data","columns","loading"])])])])}}},Dt={setup(r){const s=Z(),a=B(),n=W();return z(()=>{s.meta.ability&&!a.hasAbilities(s.meta.ability)?n.push({name:"account.settings"}):s.meta.isOwner&&!a.currentUser.is_owner&&n.push({name:"account.settings"})}),(_,y)=>{const f=l("BasePage");return d(),C(f,null,{default:c(()=>[t(Me),t(mt),t(yt)]),_:1})}}};export{Dt as default};
